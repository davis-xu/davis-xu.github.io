<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>d4ba1cd8e5b7472399d89f1713f737aa</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="what-affects-sleep-quality" class="cell markdown"
id="jrDMtLmqMlUL">
<h1><strong>What Affects Sleep Quality?</strong></h1>
<p>Fall 2024 Data Science Project</p>
<p>Anika Aracan, Davis Xu, Jason Wisdom, Silas Rager</p>
<p>Contributions:</p>
<p>Anika -</p>
<p>Davis -</p>
<ul>
<li>B: Dataset Curation and Preprocessing
<ul>
<li>Imported dataset and performed all necessary preprocessing</li>
</ul></li>
<li>C: Data Exploration and Summary Statistics
<ul>
<li>Wrote hypothesis and code for chi-squared testing section</li>
</ul></li>
<li>G: Final Tutorial Report Creation
<ul>
<li>Added all the explanation paragraphs to the Data Curation and
Exploratory Data Analysis sections, along with the explanation
paragraphs at the start of the Primary Analysis section (before Physical
Activity Model)</li>
</ul></li>
</ul>
<p>Jason -</p>
<p>Silas -</p>
</section>
<section id="introduction" class="cell markdown" id="K4szCH82Qygs">
<h2><strong>Introduction</strong></h2>
</section>
<div class="cell markdown" id="KD4evDG63dOC">
<p>With the importance of sleep always being emphasized to us, our group
has decided to train a model to predict the quality of sleep based on a
variety of different factors, including BMI, blood pressure, and step
count. The dataset we are using is ideal for health research, containing
data like sleep duration, physical activity, and stress levels. Some
specific questions we are trying to answer include:</p>
<ul>
<li>How does physical activity level correlate with the quality of
sleep?</li>
<li>Does higher BMI or blood pressure lead to poorer sleep quality?</li>
<li>Can stress levels serve as a significant predictor for sleep
disruption?</li>
<li>What combination of factors best predicts the quality of sleep, and
can we identify at-risk individuals who may benefit from lifestyle
adjustments?</li>
</ul>
<p>Answering these questions is extremely important because finding the
answers can help many people, allowing them to find reasons why their
sleep may not be as good as it should be.</p>
</div>
<section id="data-curation" class="cell markdown" id="-8jHmhijRIHs">
<h2><strong>Data Curation</strong></h2>
</section>
<section id="data-collection" class="cell markdown" id="nCQcfckgXPgr">
<h3><strong>Data Collection</strong></h3>
</section>
<div class="cell markdown" id="jg4gF4z2JAtx">
<p>This step is where we collect the necessary data for our analysis. We
are sourcing the data from <a
href="https://www.kaggle.com/datasets/uom190346a/sleep-health-and-lifestyle-dataset">this</a>
sleep health dataset on Kaggle, and importing it into a <a
href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html">Pandas
dataframe</a>. This structures the data into and provides many helpful
functions we can utilize.</p>
<p>The first step is installing <a
href="https://pypi.org/project/opendatasets/">opendatasets</a>, a Python
library that allows us to easily import datasets from sites like Kaggle.
The below command only needs to be ran at the beginning of a
session.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
data-collapsed="true" id="LJcreuDk3XRb"
data-outputId="792edaad-d40d-4374-acdb-3a0ac28fecd6">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pip install opendatasets</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Requirement already satisfied: opendatasets in /usr/local/lib/python3.10/dist-packages (0.1.22)
Requirement already satisfied: tqdm in /usr/local/lib/python3.10/dist-packages (from opendatasets) (4.66.6)
Requirement already satisfied: kaggle in /usr/local/lib/python3.10/dist-packages (from opendatasets) (1.6.17)
Requirement already satisfied: click in /usr/local/lib/python3.10/dist-packages (from opendatasets) (8.1.7)
Requirement already satisfied: six&gt;=1.10 in /usr/local/lib/python3.10/dist-packages (from kaggle-&gt;opendatasets) (1.16.0)
Requirement already satisfied: certifi&gt;=2023.7.22 in /usr/local/lib/python3.10/dist-packages (from kaggle-&gt;opendatasets) (2024.8.30)
Requirement already satisfied: python-dateutil in /usr/local/lib/python3.10/dist-packages (from kaggle-&gt;opendatasets) (2.8.2)
Requirement already satisfied: requests in /usr/local/lib/python3.10/dist-packages (from kaggle-&gt;opendatasets) (2.32.3)
Requirement already satisfied: python-slugify in /usr/local/lib/python3.10/dist-packages (from kaggle-&gt;opendatasets) (8.0.4)
Requirement already satisfied: urllib3 in /usr/local/lib/python3.10/dist-packages (from kaggle-&gt;opendatasets) (2.2.3)
Requirement already satisfied: bleach in /usr/local/lib/python3.10/dist-packages (from kaggle-&gt;opendatasets) (6.2.0)
Requirement already satisfied: webencodings in /usr/local/lib/python3.10/dist-packages (from bleach-&gt;kaggle-&gt;opendatasets) (0.5.1)
Requirement already satisfied: text-unidecode&gt;=1.3 in /usr/local/lib/python3.10/dist-packages (from python-slugify-&gt;kaggle-&gt;opendatasets) (1.3)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /usr/local/lib/python3.10/dist-packages (from requests-&gt;kaggle-&gt;opendatasets) (3.4.0)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/local/lib/python3.10/dist-packages (from requests-&gt;kaggle-&gt;opendatasets) (3.10)
</code></pre>
</div>
</div>
<div class="cell markdown" id="EUwIcHelZdSg">
<p>Here we import all the modules needed for the rest of the
tutorial.</p>
</div>
<div class="cell code" data-collapsed="true" id="CTz5AMjqbiGe">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> opendatasets <span class="im">as</span> od</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error, r2_score</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co">#import matplotlib</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co">#from sklearn.cluster import KMeans, DBSCAN</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co">#from sklearn.decomposition import PCA</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">#from sklearn.manifold import TSNE</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co">#from matplotlib.colors import Normalize</span></span></code></pre></div>
</div>
<div class="cell markdown" id="ZL_JSfWOSdC5">
<p>This next step uses opendatasets to download the dataset from Kaggle.
A Kaggle account and API token are required to complete the download at
the beginning of a session. After logging into or creating a Kaggle
account, nagivate to the <a
href="https://www.kaggle.com/settings/account">account settings
page</a>. Under the API section you will find and option to create a new
token. This will download a JSON file with your username and key which
you can then enter into the respective prompts below.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="OF3ci9UUR-KC" data-outputId="a36bbaf7-f23e-4f21-e14d-b21bf3fa0a8d">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You need a Kaggle API key for this</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Can make one in your account settings</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>od.download(<span class="st">&quot;https://www.kaggle.com/datasets/uom190346a/sleep-health-and-lifestyle-dataset&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Skipping, found downloaded files in &quot;./sleep-health-and-lifestyle-dataset&quot; (use force=True to force download)
</code></pre>
</div>
</div>
<section id="data-preprocessing" class="cell markdown"
id="Dml9tDnwXZnB">
<h3><strong>Data Preprocessing</strong></h3>
</section>
<div class="cell markdown" id="hVzka5x2ZyEv">
<p>Now we move on to the preprocessing step. This is where we inspect
and clean the data to ensure quality. First we use the Pandas <a
href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html">read_csv</a>
function to load the data from a <a
href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV file</a>
into a dataframe. Then we use the <a
href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.head.html">head</a>
function to display the first specified number of rows in the dataframe,
in this case 20.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:832}"
id="93jRYxEwZfY0" data-outputId="9740907e-a870-4dfe-efe6-ef8f3d751f69">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>main_df <span class="op">=</span> pd.read_csv(<span class="st">&quot;sleep-health-and-lifestyle-dataset/Sleep_health_and_lifestyle_dataset.csv&quot;</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>main_df.head(<span class="dv">20</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="57">

  <div id="df-ea33d645-1041-48aa-9bcc-be93c24ca1fc" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Person ID</th>
      <th>Gender</th>
      <th>Age</th>
      <th>Occupation</th>
      <th>Sleep Duration</th>
      <th>Quality of Sleep</th>
      <th>Physical Activity Level</th>
      <th>Stress Level</th>
      <th>BMI Category</th>
      <th>Blood Pressure</th>
      <th>Heart Rate</th>
      <th>Daily Steps</th>
      <th>Sleep Disorder</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Male</td>
      <td>27</td>
      <td>Software Engineer</td>
      <td>6.1</td>
      <td>6</td>
      <td>42</td>
      <td>6</td>
      <td>Overweight</td>
      <td>126/83</td>
      <td>77</td>
      <td>4200</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Male</td>
      <td>28</td>
      <td>Doctor</td>
      <td>6.2</td>
      <td>6</td>
      <td>60</td>
      <td>8</td>
      <td>Normal</td>
      <td>125/80</td>
      <td>75</td>
      <td>10000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Male</td>
      <td>28</td>
      <td>Doctor</td>
      <td>6.2</td>
      <td>6</td>
      <td>60</td>
      <td>8</td>
      <td>Normal</td>
      <td>125/80</td>
      <td>75</td>
      <td>10000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Male</td>
      <td>28</td>
      <td>Sales Representative</td>
      <td>5.9</td>
      <td>4</td>
      <td>30</td>
      <td>8</td>
      <td>Obese</td>
      <td>140/90</td>
      <td>85</td>
      <td>3000</td>
      <td>Sleep Apnea</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Male</td>
      <td>28</td>
      <td>Sales Representative</td>
      <td>5.9</td>
      <td>4</td>
      <td>30</td>
      <td>8</td>
      <td>Obese</td>
      <td>140/90</td>
      <td>85</td>
      <td>3000</td>
      <td>Sleep Apnea</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>Male</td>
      <td>28</td>
      <td>Software Engineer</td>
      <td>5.9</td>
      <td>4</td>
      <td>30</td>
      <td>8</td>
      <td>Obese</td>
      <td>140/90</td>
      <td>85</td>
      <td>3000</td>
      <td>Insomnia</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>Male</td>
      <td>29</td>
      <td>Teacher</td>
      <td>6.3</td>
      <td>6</td>
      <td>40</td>
      <td>7</td>
      <td>Obese</td>
      <td>140/90</td>
      <td>82</td>
      <td>3500</td>
      <td>Insomnia</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>7.8</td>
      <td>7</td>
      <td>75</td>
      <td>6</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>7.8</td>
      <td>7</td>
      <td>75</td>
      <td>6</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>7.8</td>
      <td>7</td>
      <td>75</td>
      <td>6</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10</th>
      <td>11</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.1</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>11</th>
      <td>12</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>7.8</td>
      <td>7</td>
      <td>75</td>
      <td>6</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>12</th>
      <td>13</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.1</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>13</th>
      <td>14</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.0</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>14</th>
      <td>15</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.0</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>15</th>
      <td>16</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.0</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16</th>
      <td>17</td>
      <td>Female</td>
      <td>29</td>
      <td>Nurse</td>
      <td>6.5</td>
      <td>5</td>
      <td>40</td>
      <td>7</td>
      <td>Normal Weight</td>
      <td>132/87</td>
      <td>80</td>
      <td>4000</td>
      <td>Sleep Apnea</td>
    </tr>
    <tr>
      <th>17</th>
      <td>18</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.0</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>Sleep Apnea</td>
    </tr>
    <tr>
      <th>18</th>
      <td>19</td>
      <td>Female</td>
      <td>29</td>
      <td>Nurse</td>
      <td>6.5</td>
      <td>5</td>
      <td>40</td>
      <td>7</td>
      <td>Normal Weight</td>
      <td>132/87</td>
      <td>80</td>
      <td>4000</td>
      <td>Insomnia</td>
    </tr>
    <tr>
      <th>19</th>
      <td>20</td>
      <td>Male</td>
      <td>30</td>
      <td>Doctor</td>
      <td>7.6</td>
      <td>7</td>
      <td>75</td>
      <td>6</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-ea33d645-1041-48aa-9bcc-be93c24ca1fc')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-ea33d645-1041-48aa-9bcc-be93c24ca1fc button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-ea33d645-1041-48aa-9bcc-be93c24ca1fc');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-1c8dc837-fb4e-4ab4-a825-f46cf463456d">
  <button class="colab-df-quickchart" onclick="quickchart('df-1c8dc837-fb4e-4ab4-a825-f46cf463456d')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-1c8dc837-fb4e-4ab4-a825-f46cf463456d button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>

</div>
</div>
<div class="cell markdown" id="69MR2Rs4b1fS">
<p>Here we can use the <a
href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.dtypes.html">data
type</a> function to show the data types of each feature in the
dataframe. These are useful to know in case we want to modify values in
a specific column.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:491}"
id="X3KySKdFbo4J" data-outputId="cfa7d0cd-cb8c-491e-facf-2e48169a6cfa">
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>main_df.dtypes</span></code></pre></div>
<div class="output execute_result" data-execution_count="58">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Person ID</th>
      <td>int64</td>
    </tr>
    <tr>
      <th>Gender</th>
      <td>object</td>
    </tr>
    <tr>
      <th>Age</th>
      <td>int64</td>
    </tr>
    <tr>
      <th>Occupation</th>
      <td>object</td>
    </tr>
    <tr>
      <th>Sleep Duration</th>
      <td>float64</td>
    </tr>
    <tr>
      <th>Quality of Sleep</th>
      <td>int64</td>
    </tr>
    <tr>
      <th>Physical Activity Level</th>
      <td>int64</td>
    </tr>
    <tr>
      <th>Stress Level</th>
      <td>int64</td>
    </tr>
    <tr>
      <th>BMI Category</th>
      <td>object</td>
    </tr>
    <tr>
      <th>Blood Pressure</th>
      <td>object</td>
    </tr>
    <tr>
      <th>Heart Rate</th>
      <td>int64</td>
    </tr>
    <tr>
      <th>Daily Steps</th>
      <td>int64</td>
    </tr>
    <tr>
      <th>Sleep Disorder</th>
      <td>object</td>
    </tr>
  </tbody>
</table>
</div><br><label><b>dtype:</b> object</label>
</div>
</div>
<div class="cell markdown" id="zsMt05pvkLvm">
<p>You may have noticed in the first few columns of the dataframe the
BMI category includes both "Normal" and "Normal Weight". Since they both
represent the same thing, this is a great example of something we should
clean up. A simple <a
href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.replace.html">replace</a>
function does the trick.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:815}"
id="oMXBUSPFfmR7" data-outputId="bc6861e9-bb7f-410c-bd3f-1470efa03a33">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>main_df.replace(<span class="st">&quot;Normal Weight&quot;</span>, <span class="st">&quot;Normal&quot;</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>main_df.head(<span class="dv">20</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="59">

  <div id="df-fe4bcad5-da7e-463d-a310-448d76a3788d" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Person ID</th>
      <th>Gender</th>
      <th>Age</th>
      <th>Occupation</th>
      <th>Sleep Duration</th>
      <th>Quality of Sleep</th>
      <th>Physical Activity Level</th>
      <th>Stress Level</th>
      <th>BMI Category</th>
      <th>Blood Pressure</th>
      <th>Heart Rate</th>
      <th>Daily Steps</th>
      <th>Sleep Disorder</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Male</td>
      <td>27</td>
      <td>Software Engineer</td>
      <td>6.1</td>
      <td>6</td>
      <td>42</td>
      <td>6</td>
      <td>Overweight</td>
      <td>126/83</td>
      <td>77</td>
      <td>4200</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Male</td>
      <td>28</td>
      <td>Doctor</td>
      <td>6.2</td>
      <td>6</td>
      <td>60</td>
      <td>8</td>
      <td>Normal</td>
      <td>125/80</td>
      <td>75</td>
      <td>10000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Male</td>
      <td>28</td>
      <td>Doctor</td>
      <td>6.2</td>
      <td>6</td>
      <td>60</td>
      <td>8</td>
      <td>Normal</td>
      <td>125/80</td>
      <td>75</td>
      <td>10000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Male</td>
      <td>28</td>
      <td>Sales Representative</td>
      <td>5.9</td>
      <td>4</td>
      <td>30</td>
      <td>8</td>
      <td>Obese</td>
      <td>140/90</td>
      <td>85</td>
      <td>3000</td>
      <td>Sleep Apnea</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Male</td>
      <td>28</td>
      <td>Sales Representative</td>
      <td>5.9</td>
      <td>4</td>
      <td>30</td>
      <td>8</td>
      <td>Obese</td>
      <td>140/90</td>
      <td>85</td>
      <td>3000</td>
      <td>Sleep Apnea</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>Male</td>
      <td>28</td>
      <td>Software Engineer</td>
      <td>5.9</td>
      <td>4</td>
      <td>30</td>
      <td>8</td>
      <td>Obese</td>
      <td>140/90</td>
      <td>85</td>
      <td>3000</td>
      <td>Insomnia</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>Male</td>
      <td>29</td>
      <td>Teacher</td>
      <td>6.3</td>
      <td>6</td>
      <td>40</td>
      <td>7</td>
      <td>Obese</td>
      <td>140/90</td>
      <td>82</td>
      <td>3500</td>
      <td>Insomnia</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>7.8</td>
      <td>7</td>
      <td>75</td>
      <td>6</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>7.8</td>
      <td>7</td>
      <td>75</td>
      <td>6</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>7.8</td>
      <td>7</td>
      <td>75</td>
      <td>6</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10</th>
      <td>11</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.1</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>11</th>
      <td>12</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>7.8</td>
      <td>7</td>
      <td>75</td>
      <td>6</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>12</th>
      <td>13</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.1</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>13</th>
      <td>14</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.0</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>14</th>
      <td>15</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.0</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>15</th>
      <td>16</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.0</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16</th>
      <td>17</td>
      <td>Female</td>
      <td>29</td>
      <td>Nurse</td>
      <td>6.5</td>
      <td>5</td>
      <td>40</td>
      <td>7</td>
      <td>Normal</td>
      <td>132/87</td>
      <td>80</td>
      <td>4000</td>
      <td>Sleep Apnea</td>
    </tr>
    <tr>
      <th>17</th>
      <td>18</td>
      <td>Male</td>
      <td>29</td>
      <td>Doctor</td>
      <td>6.0</td>
      <td>6</td>
      <td>30</td>
      <td>8</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>Sleep Apnea</td>
    </tr>
    <tr>
      <th>18</th>
      <td>19</td>
      <td>Female</td>
      <td>29</td>
      <td>Nurse</td>
      <td>6.5</td>
      <td>5</td>
      <td>40</td>
      <td>7</td>
      <td>Normal</td>
      <td>132/87</td>
      <td>80</td>
      <td>4000</td>
      <td>Insomnia</td>
    </tr>
    <tr>
      <th>19</th>
      <td>20</td>
      <td>Male</td>
      <td>30</td>
      <td>Doctor</td>
      <td>7.6</td>
      <td>7</td>
      <td>75</td>
      <td>6</td>
      <td>Normal</td>
      <td>120/80</td>
      <td>70</td>
      <td>8000</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-fe4bcad5-da7e-463d-a310-448d76a3788d')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-fe4bcad5-da7e-463d-a310-448d76a3788d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-fe4bcad5-da7e-463d-a310-448d76a3788d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-b32b2eb0-aae5-450f-9262-ae36cd36ffd9">
  <button class="colab-df-quickchart" onclick="quickchart('df-b32b2eb0-aae5-450f-9262-ae36cd36ffd9')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-b32b2eb0-aae5-450f-9262-ae36cd36ffd9 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>

</div>
</div>
<div class="cell markdown" id="ix3EWdtXkIek">
<p>Now I'm going to add a "Mean Arterial Pressure" column. <a
href="https://www.heart.org/en/health-topics/high-blood-pressure/understanding-blood-pressure-readings">Blood
pressure</a> is comprised of systolic (first number) and diastolic
(second number) blood pressure. <a
href="https://en.wikipedia.org/wiki/Mean_arterial_pressure">Mean
arterial pressure (MAP)</a> is an average of these blood pressures. This
is essentially converting the blood pressure column of strings into a
usable value for regression analysis later on.</p>
<p><span class="math display">$$MAP = Diastolic + \frac{1}{3}(Systolic -
Diastolic)$$</span></p>
</div>
<div class="cell code" id="lPrJ2ZgbqcX9">
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calc_map(blood_pressure):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  bp_split <span class="op">=</span> blood_pressure.split(<span class="st">&#39;/&#39;</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  systolic, diastolic <span class="op">=</span> <span class="bu">map</span>(<span class="bu">int</span>, bp_split)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> diastolic <span class="op">+</span> (<span class="dv">1</span><span class="op">/</span><span class="dv">3</span>) <span class="op">*</span> (systolic <span class="op">-</span> diastolic)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>main_df[<span class="st">&quot;Mean Arterial Pressure&quot;</span>] <span class="op">=</span> main_df[<span class="st">&quot;Blood Pressure&quot;</span>].<span class="bu">apply</span>(calc_map)</span></code></pre></div>
</div>
<div class="cell markdown" id="1n9-JH5hlJYv">
<p>Here's a final display of the dataframe before we move on to intial
exploration.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:617}"
id="c5KjIdH9lR-m" data-outputId="bff65ddb-8459-45c2-8b8e-13fe5dbab38c">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>main_df</span></code></pre></div>
<div class="output execute_result" data-execution_count="61">

  <div id="df-43db8ee8-c729-4599-bdf5-1e9750f14453" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Person ID</th>
      <th>Gender</th>
      <th>Age</th>
      <th>Occupation</th>
      <th>Sleep Duration</th>
      <th>Quality of Sleep</th>
      <th>Physical Activity Level</th>
      <th>Stress Level</th>
      <th>BMI Category</th>
      <th>Blood Pressure</th>
      <th>Heart Rate</th>
      <th>Daily Steps</th>
      <th>Sleep Disorder</th>
      <th>Mean Arterial Pressure</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Male</td>
      <td>27</td>
      <td>Software Engineer</td>
      <td>6.1</td>
      <td>6</td>
      <td>42</td>
      <td>6</td>
      <td>Overweight</td>
      <td>126/83</td>
      <td>77</td>
      <td>4200</td>
      <td>NaN</td>
      <td>97.333333</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Male</td>
      <td>28</td>
      <td>Doctor</td>
      <td>6.2</td>
      <td>6</td>
      <td>60</td>
      <td>8</td>
      <td>Normal</td>
      <td>125/80</td>
      <td>75</td>
      <td>10000</td>
      <td>NaN</td>
      <td>95.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Male</td>
      <td>28</td>
      <td>Doctor</td>
      <td>6.2</td>
      <td>6</td>
      <td>60</td>
      <td>8</td>
      <td>Normal</td>
      <td>125/80</td>
      <td>75</td>
      <td>10000</td>
      <td>NaN</td>
      <td>95.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Male</td>
      <td>28</td>
      <td>Sales Representative</td>
      <td>5.9</td>
      <td>4</td>
      <td>30</td>
      <td>8</td>
      <td>Obese</td>
      <td>140/90</td>
      <td>85</td>
      <td>3000</td>
      <td>Sleep Apnea</td>
      <td>106.666667</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Male</td>
      <td>28</td>
      <td>Sales Representative</td>
      <td>5.9</td>
      <td>4</td>
      <td>30</td>
      <td>8</td>
      <td>Obese</td>
      <td>140/90</td>
      <td>85</td>
      <td>3000</td>
      <td>Sleep Apnea</td>
      <td>106.666667</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>369</th>
      <td>370</td>
      <td>Female</td>
      <td>59</td>
      <td>Nurse</td>
      <td>8.1</td>
      <td>9</td>
      <td>75</td>
      <td>3</td>
      <td>Overweight</td>
      <td>140/95</td>
      <td>68</td>
      <td>7000</td>
      <td>Sleep Apnea</td>
      <td>110.000000</td>
    </tr>
    <tr>
      <th>370</th>
      <td>371</td>
      <td>Female</td>
      <td>59</td>
      <td>Nurse</td>
      <td>8.0</td>
      <td>9</td>
      <td>75</td>
      <td>3</td>
      <td>Overweight</td>
      <td>140/95</td>
      <td>68</td>
      <td>7000</td>
      <td>Sleep Apnea</td>
      <td>110.000000</td>
    </tr>
    <tr>
      <th>371</th>
      <td>372</td>
      <td>Female</td>
      <td>59</td>
      <td>Nurse</td>
      <td>8.1</td>
      <td>9</td>
      <td>75</td>
      <td>3</td>
      <td>Overweight</td>
      <td>140/95</td>
      <td>68</td>
      <td>7000</td>
      <td>Sleep Apnea</td>
      <td>110.000000</td>
    </tr>
    <tr>
      <th>372</th>
      <td>373</td>
      <td>Female</td>
      <td>59</td>
      <td>Nurse</td>
      <td>8.1</td>
      <td>9</td>
      <td>75</td>
      <td>3</td>
      <td>Overweight</td>
      <td>140/95</td>
      <td>68</td>
      <td>7000</td>
      <td>Sleep Apnea</td>
      <td>110.000000</td>
    </tr>
    <tr>
      <th>373</th>
      <td>374</td>
      <td>Female</td>
      <td>59</td>
      <td>Nurse</td>
      <td>8.1</td>
      <td>9</td>
      <td>75</td>
      <td>3</td>
      <td>Overweight</td>
      <td>140/95</td>
      <td>68</td>
      <td>7000</td>
      <td>Sleep Apnea</td>
      <td>110.000000</td>
    </tr>
  </tbody>
</table>
<p>374 rows × 14 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-43db8ee8-c729-4599-bdf5-1e9750f14453')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-43db8ee8-c729-4599-bdf5-1e9750f14453 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-43db8ee8-c729-4599-bdf5-1e9750f14453');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-11349162-2848-4fc6-aa2d-8cbc20f7dd20">
  <button class="colab-df-quickchart" onclick="quickchart('df-11349162-2848-4fc6-aa2d-8cbc20f7dd20')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-11349162-2848-4fc6-aa2d-8cbc20f7dd20 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_aaaa94f3-3136-4c06-b3d6-8638777856ee">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('main_df')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_aaaa94f3-3136-4c06-b3d6-8638777856ee button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('main_df');
      }
      })();
    </script>
  </div>

    </div>
  </div>

</div>
</div>
<div class="cell markdown" id="KLXjJWDWjA6A">
<p>This dataset provides data on</p>
</div>
<section id="exploratory-data-analysis" class="cell markdown"
id="2KOa9FoHRU4D">
<h2><strong>Exploratory Data Analysis</strong></h2>
</section>
<div class="cell markdown" id="QvRRhOR-lqqG">
<p>This step is where we perform some initial statistical analysis to
try and extract some useful patterns or insight from our data. This
involves hypothesis testing, which we will perform three of. Each test
will also come with a nice plot that will help visualize these patterns.
We will be using <a href="https://scipy.org/">SciPy</a> for the
hypothesis testing and <a
href="https://matplotlib.org/stable/">Matplotlib</a> for our plots.</p>
</div>
<section id="hypothesis-testing-through-anova" class="cell markdown"
id="9vmQC4pUPK7m">
<h3><strong>Hypothesis Testing Through ANOVA</strong></h3>
</section>
<div class="cell markdown" id="iaVy2B5rnxEi">
<p>The first test we will be using is ANOVA (Analysis of Variance). This
test compares the means of several groups, usually <strong>three or
more</strong>, to assess for any significant differences. You can learn
more about it <a
href="https://www.jmp.com/en_us/statistics-knowledge-portal/one-way-anova.html">here</a>.</p>
<p>Here we are looking at the BMI groups of a person (Normal, Obese,
Overweight), and how this affects their heart rate. We use SciPy's nice
<a
href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.f_oneway.html">ANOVA
function</a> to determine the resulting p-value. Below are our null and
alternative hypotheses:</p>
</div>
<div class="cell markdown" id="qd9WWebho9dH">
<p><em>Null Hypothesis:</em> A person's BMI category does not have an
effect on the person's heart rate.</p>
<p><em>Alternative Hypothesis:</em> A person's BMI category will affect
their heart rate.</p>
<p>(Assume <span class="math inline"><em>α</em> = 0.05</span>)</p>
</div>
<div class="cell markdown" id="QZpFYv1E1Jsj">
<p>To obtain the heart rates, we first group the dataframe by BMI using
<a
href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html">groupby</a>.
Then we iterate through and collect the heart rates into a single
variable, which is passed into the ANOVA function.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="wlO9NNCwgf3W" data-outputId="e6caac74-4619-4c4f-a7a4-8c06634cc30b">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>BMI_dfs <span class="op">=</span> main_df.groupby([<span class="st">&#39;BMI Category&#39;</span>], dropna<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>heart_rates <span class="op">=</span> [k[<span class="st">&#39;Heart Rate&#39;</span>] <span class="cf">for</span> _, k <span class="kw">in</span> BMI_dfs]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>anova_results <span class="op">=</span> stats.f_oneway(<span class="op">*</span>heart_rates)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>anova_results.pvalue</span></code></pre></div>
<div class="output execute_result" data-execution_count="63">
<pre><code>1.3185477732384945e-38</code></pre>
</div>
</div>
<div class="cell markdown" id="ez3omkNYkJQQ">
<p>As the p-value for the ANOVA test is lower than the level of
statistical significance, we can conclude that a person's heart rate is
affected by what BMI category they are in.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:564}"
id="s4UeqWvOh_mf" data-outputId="fb1bdf22-0d8e-4cb3-ab4f-87785bbd536d">
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#In order of increasing weight</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>BMI_categories <span class="op">=</span> [<span class="st">&quot;Normal&quot;</span>, <span class="st">&quot;Overweight&quot;</span>, <span class="st">&quot;Obese&quot;</span>]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>heart_rates <span class="op">=</span> [[k[<span class="st">&#39;Heart Rate&#39;</span>] <span class="cf">for</span> _, k <span class="kw">in</span> BMI_dfs <span class="cf">if</span> k[<span class="st">&#39;BMI Category&#39;</span>].values[<span class="dv">0</span>] <span class="op">==</span> category][<span class="dv">0</span>]</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>               <span class="cf">for</span> category <span class="kw">in</span> BMI_categories]</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#heart_rates = []</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#BMI_categories = []</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#for i, k in BMI_dfs:</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  heart_rates.append(k[&#39;Heart Rate&#39;])</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  BMI_categories.append(k[&#39;BMI Category&#39;].values[0])</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>plt.boxplot(heart_rates, labels<span class="op">=</span>BMI_categories)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Heart Rate by BMI Category&#39;</span>)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Heart Rate (bpm)&#39;</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;BMI Category&#39;</span>)</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_6c0c2b8a512e416b962680a8164c030e/d7db001b03ef63dcf4b4282531fb6bd90e7b1f35.png" /></p>
</div>
</div>
<section id="hypothesis-testing-through-t-tests" class="cell markdown"
id="ULHbG4EPcmM3">
<h3><strong>Hypothesis Testing Through T-Tests</strong></h3>
</section>
<div class="cell markdown" id="G0F8GfCEruJO">
<p>Our second test will be a two-sampled T-test. This is used to compare
the means of <strong>two</strong> different samples. You can learn more
about it <a
href="https://www.jmp.com/en_us/statistics-knowledge-portal/t-test/two-sample-t-test.html">here</a>.</p>
<p>Here we are looking at two groups of people, those with high (&gt;
5000) steps and those with low (&lt;= 5000) steps, and how this affects
their sleep duration. We are using SciPy's <a
href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html">T-test
function</a> to calculate the p-value. Below are our null and
alternative hypotheses:</p>
</div>
<div class="cell markdown" id="kyKs31xddXfI">
<p>High steps = steps &gt; 5000</p>
<p><em>Null Hypothesis:</em> There is no significant difference in sleep
duration between individuals with high and low daily steps.</p>
<p><em>Alternative Hypothesis:</em> There is a significant difference in
sleep duration between individuals with high and low daily steps.</p>
<p>(Assume <span class="math inline"><em>α</em> = 0.05</span>)</p>
</div>
<div class="cell markdown" id="IGcecPCl1_jo">
<p>Before testing, we need to split the data into the respective groups.
This is simply done using a conditional. The two groups are then passed
to the T-test function.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="53BRdjfsd-5E" data-outputId="11347ae3-ea62-46b2-f387-0f62cf7904cb">
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>limit <span class="op">=</span> <span class="dv">5000</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>high_steps_group <span class="op">=</span> main_df[main_df[<span class="st">&#39;Daily Steps&#39;</span>] <span class="op">&gt;=</span> limit][<span class="st">&#39;Sleep Duration&#39;</span>]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>low_steps_group <span class="op">=</span> main_df[main_df[<span class="st">&#39;Daily Steps&#39;</span>] <span class="op">&lt;</span> limit][<span class="st">&#39;Sleep Duration&#39;</span>]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>t_stat, p_value <span class="op">=</span> stats.ttest_ind(high_steps_group, low_steps_group)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;t-statistic: </span><span class="sc">{</span>t_stat<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;p-value: </span><span class="sc">{</span>p_value<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>t-statistic: 2.445814907367563
p-value: 0.014915155800785463
</code></pre>
</div>
</div>
<div class="cell markdown" id="FKFBKOntunpp">
<p>Because the p-value for this T-test is lower than the specified level
of significance, we reject the null hypothesis. There is a significant
difference in sleep duration between high and low step groups.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:472}"
id="jYRVUQCXfTYA" data-outputId="674313ad-b600-4e07-bd9e-7123f12f1a75">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>plt.figure()</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>plt.boxplot([high_steps_group, low_steps_group], labels<span class="op">=</span>[<span class="st">&#39;High Steps&#39;</span>, <span class="st">&#39;Low Steps&#39;</span>])</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Sleep Duration by Step Count Category (High vs Low)&#39;</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Sleep Duration (hours)&#39;</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Step Count Category&#39;</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_6c0c2b8a512e416b962680a8164c030e/9db2d1711b4f8d1e65ebdb4a4b0ae97587a5e88a.png" /></p>
</div>
</div>
<section id="hypothesis-testing-through-chi-squared-test"
class="cell markdown" id="3S6QtUce3BYF">
<h3><strong>Hypothesis Testing Through Chi-Squared Test</strong></h3>
</section>
<div class="cell markdown" id="SmYkitPDu8RL">
<p>Our final test will be a Chi-Squared test, which looks at two sets of
categorical values to determine if they come from the same distribution.
You can learn more about this test <a
href="https://www.jmp.com/en_us/statistics-knowledge-portal/chi-square-test.html">here</a>.</p>
<p>Here we are looking at a person's BMI category (Normal, Obese,
Overweight) determining whether or not that affects their likelihood of
having a sleeping disorder. We are using SciPy's <a
href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.chi2_contingency.html">Chi-Squared
function</a> to determine the p-value. Below are our null and
alternative hypotheses:</p>
</div>
<div class="cell markdown" id="9pcLIyMa3Nbx">
<p><em>Null Hypothesis:</em> A person's BMI category does not have an
effect the person's likelihood of having a sleeping disorder</p>
<p><em>Alternative Hypothesis:</em> A person's BMI category does have an
effect the person's likelihood of having a sleeping disorder</p>
<p>(Assume <span class="math inline"><em>α</em> = 0.05</span>)</p>
</div>
<div class="cell markdown" id="LJr4vb-Wwfdn">
<p>First we need to create a contingency table to pass to the SciPy
function. Each BMI category is listed alongside whether or not those in
that category have a sleeping disorder.</p>
<p>Since the Sleep Disorder column in the original dataframe either
lists a sleeping disorder or "NaN", we need to convert this into usable
"Yes" or "No" columns. The <a
href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.isna.html">isna</a>
function helps determine if a value is "NaN", returning a boolean table.
We can then iterate through that, converting "True" values to "No" and
"False" values to "Yes". Finally we form the contingency table.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:175}"
id="6mqcPH283Ms_" data-outputId="04770158-a6d8-4454-fcaf-6e014aeb7a13">
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>bmi_category <span class="op">=</span> main_df.loc[:, <span class="st">&#39;BMI Category&#39;</span>]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>sleeping_disorder <span class="op">=</span> main_df[<span class="st">&#39;Sleep Disorder&#39;</span>].isna()</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>have_sd <span class="op">=</span> {}</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, value <span class="kw">in</span> sleeping_disorder.items():</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> value:</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    have_sd[index] <span class="op">=</span> <span class="st">&#39;No&#39;</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    have_sd[index] <span class="op">=</span> <span class="st">&#39;Yes&#39;</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>have_sd <span class="op">=</span> pd.Series(have_sd)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> pd.crosstab(bmi_category, have_sd, colnames<span class="op">=</span>[<span class="st">&#39;Has Sleeping Disorder&#39;</span>])</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>table</span></code></pre></div>
<div class="output execute_result" data-execution_count="67">

  <div id="df-5658cc9d-1a3e-4aad-a967-5acc5fc0acba" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Has Sleeping Disorder</th>
      <th>No</th>
      <th>Yes</th>
    </tr>
    <tr>
      <th>BMI Category</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Normal</th>
      <td>200</td>
      <td>16</td>
    </tr>
    <tr>
      <th>Obese</th>
      <td>0</td>
      <td>10</td>
    </tr>
    <tr>
      <th>Overweight</th>
      <td>19</td>
      <td>129</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-5658cc9d-1a3e-4aad-a967-5acc5fc0acba')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-5658cc9d-1a3e-4aad-a967-5acc5fc0acba button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-5658cc9d-1a3e-4aad-a967-5acc5fc0acba');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-9966d51a-3e44-4fe5-a0e3-60116fda4a7a">
  <button class="colab-df-quickchart" onclick="quickchart('df-9966d51a-3e44-4fe5-a0e3-60116fda4a7a')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-9966d51a-3e44-4fe5-a0e3-60116fda4a7a button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_28eb7b76-8b15-44aa-bd73-931d08fc64af">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('table')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_28eb7b76-8b15-44aa-bd73-931d08fc64af button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('table');
      }
      })();
    </script>
  </div>

    </div>
  </div>

</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="IcS54Zao8e9x" data-outputId="cdabd098-8004-4938-9291-01b07f5a1bb0">
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> stats.chi2_contingency(table)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>res.pvalue</span></code></pre></div>
<div class="output execute_result" data-execution_count="68">
<pre><code>7.270524885184559e-54</code></pre>
</div>
</div>
<div class="cell markdown" id="eVQ6TWMf8nI5">
<p>The p-value is much smaller than the significane level of 0.05, thus
we reject the null hypothesis. A person's BMI category does affect their
likelihood of having a sleeping disorder.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:538}"
id="08MjFcBi80_6" data-outputId="413644a2-ad74-4b23-bd20-0355755c7a96">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> table.plot(kind<span class="op">=</span><span class="st">&quot;bar&quot;</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Sleeping Disorder Count&#39;</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Sleeping Disorder Count per BMI Category&#39;</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_6c0c2b8a512e416b962680a8164c030e/4698ffedabeb9a36d0a3ce3f2965b238aad7908c.png" /></p>
</div>
</div>
<section id="primary-analysis" class="cell markdown" id="3c3Pr9OiRgYX">
<h2><strong>Primary Analysis</strong></h2>
</section>
<div class="cell markdown" id="w6eoGEQku0li">
<p>Now we will move on to our primary analysis using machine learning.
Machine learning algorithms are those that are able to uncover patterns
from given data and "learn" from them, allowing us to predict
outcomes.</p>
<p>Given the questions we decided to focus on, we have chosen to use
regression analysis as our machine learning technique. Because we are
looking at how a specific variable affects sleep quality, which is a
real-valued feature, regression is the better choice here as opposed to
a technique like classification, which focuses on categorizing data.
Specifically, we are using multiple linear regression models to answer
each question. Linear regression is a model that calculates the best fit
line between two variables. This line is that which best represents the
two-variable relationship. You can learn more about linear regression <a
href="https://www.ibm.com/topics/linear-regression">here</a>.</p>
</div>
<div class="cell markdown" id="x9gUHGdJKCcw">
<p>Before we get into the analysis of each variable, here we define some
useful functions and constants that we will utilize.</p>
<p>We will be using <a
href="https://statisticsbyjim.com/regression/mean-squared-error-mse/">Mean
Squared Error (MSE)</a> and <a
href="https://statisticsbyjim.com/regression/interpret-r-squared-regression/"><span
class="math inline"><em>R</em><sup>2</sup></span></a> values for
evaluating our models' performance. MSE is used to measure the amount of
error in the model. <span
class="math inline"><em>R</em><sup>2</sup></span> determines the
goodness of fit, with values ranging between 0 (model explains no
variation) and 1 (model explains all variation). This value can also be
negative if the fit is really bad.</p>
</div>
<div class="cell code" id="WFAQnMSFJjgs">
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to fit the model</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fit_model(X_train, Y_train):</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    model <span class="op">=</span> LinearRegression().fit(X_train, Y_train)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> model</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to predict using the fitted model</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> predict_data(model, X_train, X_test):</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    Y_train_pred <span class="op">=</span> model.predict(X_train)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    Y_test_pred <span class="op">=</span> model.predict(X_test)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Y_train_pred, Y_test_pred</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to calculate MSE and R^2</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> evaluate_model(Y_train, Y_train_pred, Y_test, Y_test_pred):</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    mse_train <span class="op">=</span> mean_squared_error(Y_train, Y_train_pred)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    mse_test <span class="op">=</span> mean_squared_error(Y_test, Y_test_pred)</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    r2_train <span class="op">=</span> r2_score(Y_train, Y_train_pred)</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    r2_test <span class="op">=</span> r2_score(Y_test, Y_test_pred)</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> mse_train, mse_test, r2_train, r2_test</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>seed <span class="op">=</span> <span class="dv">42</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>test_size<span class="op">=</span><span class="fl">0.2</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>Y <span class="op">=</span> main_df[<span class="st">&#39;Quality of Sleep&#39;</span>] <span class="co"># Using quality of sleep as target data</span></span></code></pre></div>
</div>
<section id="physical-activity-model" class="cell markdown"
id="hJ0W7XYs4cSW">
<h3><strong>Physical Activity Model</strong></h3>
</section>
<div class="cell markdown" id="GA-vMIp67Ajg">
<p>We can start with looking at the relationship between physical
activity level and sleep quality. In order to determine whether or not
there is a correlation between the two, we need to make a linear
regression model that measures their relationship.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="bYxapNs4wjC3" data-outputId="6e8ccde9-d3e9-409a-d872-e497342b67bf">
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>X_physical <span class="op">=</span> main_df.loc[:, [<span class="st">&#39;Physical Activity Level&#39;</span>]] <span class="co"># Using physical activity data as independent variable</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Split training data and use the seed to get consistent results.</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>X_physical_train, X_physical_test, y_physical_train, y_physical_test <span class="op">=</span> train_test_split(X_physical, Y, test_size<span class="op">=</span>test_size, random_state<span class="op">=</span>seed)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Scaling data to make the data consistent al</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>X_physical_train_scaled <span class="op">=</span> scaler.fit_transform(X_physical_train)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>X_physical_test_scaled <span class="op">=</span> scaler.transform(X_physical_test)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>physical_activity_model <span class="op">=</span> fit_model(X_physical_train_scaled, y_physical_train)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>y_physical_train_pred, y_physical_test_pred <span class="op">=</span> predict_data(physical_activity_model, X_physical_train_scaled, X_physical_test_scaled)</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Testing to see how well the model fits the data</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>mse_physical_train, mse_physical_test, r2_physical_train, r2_physical_test <span class="op">=</span> evaluate_model(y_physical_train, y_physical_train_pred, y_physical_test, y_physical_test_pred)</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Physical Activity Results:&quot;</span>)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  MSE Train: </span><span class="sc">{</span>mse_physical_train<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  MSE Test: </span><span class="sc">{</span>mse_physical_test<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  R2 Train: </span><span class="sc">{</span>r2_physical_train<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  R2 Test: </span><span class="sc">{</span>r2_physical_test<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Physical Activity Results:
  MSE Train: 1.3593
  MSE Test: 1.4583
  R2 Train: 0.0260
  R2 Test: 0.0333
</code></pre>
</div>
</div>
<section id="mean-arterial-pressure-model" class="cell markdown"
id="IYvDhkl14Hkc">
<h3><strong>Mean Arterial Pressure Model</strong></h3>
</section>
<div class="cell markdown" id="1laizBs0-f7U">
<p>In order to determine wheter or not a higher mean arterial pressure
results in lower sleep quality, we need to make a linear regression
model that measures the relationship between the two.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="GsbrnFIn4pSH" data-outputId="4814bd37-7937-495d-d31c-93e173f473e7">
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>X_blood <span class="op">=</span> main_df.loc[:, [<span class="st">&#39;Mean Arterial Pressure&#39;</span>]] <span class="co"># Creating model using mean arterial pressure as the variable of interest</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Split training data and use the seed to get consistent results.</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>X_blood_train, X_blood_test, y_blood_train, y_blood_test <span class="op">=</span> train_test_split(X_blood, Y, test_size<span class="op">=</span>test_size, random_state<span class="op">=</span>seed)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>X_blood_train_scaled <span class="op">=</span> scaler.fit_transform(X_blood_train)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>X_blood_test_scaled <span class="op">=</span> scaler.transform(X_blood_test)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>blood_pressure_model <span class="op">=</span> fit_model(X_blood_train_scaled, y_blood_train)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>y_blood_train_pred, y_blood_test_pred <span class="op">=</span> predict_data(blood_pressure_model, X_blood_train_scaled, X_blood_test_scaled)</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Testing to see how well the model fits the data and printing the results</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>mse_blood_train, mse_blood_test, r2_blood_train, r2_blood_test <span class="op">=</span> evaluate_model(y_blood_train, y_blood_train_pred, y_blood_test, y_blood_test_pred)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Mean Arterial Pressure Results:&quot;</span>)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  MSE Train: </span><span class="sc">{</span>mse_blood_train<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  MSE Test: </span><span class="sc">{</span>mse_blood_test<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  R2 Train: </span><span class="sc">{</span>r2_blood_train<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  R2 Test: </span><span class="sc">{</span>r2_blood_test<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Mean Arterial Pressure Results:
  MSE Train: 1.3732
  MSE Test: 1.5701
  R2 Train: 0.0160
  R2 Test: -0.0407
</code></pre>
</div>
</div>
<section id="stress-level-model" class="cell markdown"
id="_nr_drjp6Ax3">
<h3><strong>Stress Level Model</strong></h3>
</section>
<div class="cell markdown" id="f7Ut9J9W-ut6">
<p>In order to determine wheter or not stress level can be used to
accurately predict sleep quality, we need to make a linear regression
model that measures the relationship between the two.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="H7vixr7m6Hv1" data-outputId="f4e510c2-3bab-48c6-b163-224c2f2690b6">
<div class="sourceCode" id="cb26"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>X_stress <span class="op">=</span> main_df.loc[:, [<span class="st">&#39;Stress Level&#39;</span>]] <span class="co"># Creating model using stress level as independent variable</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>X_stress_train, X_stress_test, y_stress_train, y_stress_test <span class="op">=</span> train_test_split(X_stress, Y, test_size<span class="op">=</span>test_size, random_state<span class="op">=</span>seed)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>X_stress_train_scaled <span class="op">=</span> scaler.fit_transform(X_stress_train)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>X_stress_test_scaled <span class="op">=</span> scaler.transform(X_stress_test)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>stress_level_model <span class="op">=</span> fit_model(X_stress_train_scaled, y_stress_train)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>y_stress_train_pred, y_stress_test_pred <span class="op">=</span> predict_data(stress_level_model, X_stress_train_scaled, X_stress_test_scaled)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>mse_stress_train, mse_stress_test, r2_stress_train, r2_stress_test <span class="op">=</span> evaluate_model(y_stress_train, y_stress_train_pred, y_stress_test, y_stress_test_pred)</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Testing to see how well the model fits the data</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Stress Level Results:&quot;</span>)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  MSE Train: </span><span class="sc">{</span>mse_stress_train<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  MSE Test: </span><span class="sc">{</span>mse_stress_test<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  R2 Train: </span><span class="sc">{</span>r2_stress_train<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  R2 Test: </span><span class="sc">{</span>r2_stress_test<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Stress Level Results:
  MSE Train: 0.2787
  MSE Test: 0.2600
  R2 Train: 0.8003
  R2 Test: 0.8277
</code></pre>
</div>
</div>
<div class="cell markdown" id="XQXPPTlJxApJ">
<p>Stress is a good predictor of sleep quality, with <span
class="math inline"><em>R</em><sup>2</sup> = 0.8277</span>, meaning most
of the variability in quality is explained by stress level.</p>
</div>
<section id="sleep-duration" class="cell markdown" id="ZSFa7WGCnNMK">
<h3><strong>Sleep Duration</strong></h3>
</section>
<div class="cell markdown" id="BbA_iUV0jmm7">
<p>From the correlation table in the Exploratory Data Analysis Section,
we saw that Sleep Quality and Sleep Duration are highly correlated. So
to measure the relationship between the two, we are making a linear
regression model.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="ncLah0fojmm9" data-outputId="9d88bd22-9d52-47f0-e8c1-5f5bf41b3e39">
<div class="sourceCode" id="cb28"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating model using hours slept as independent variable</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>X_hours <span class="op">=</span> main_df.loc[:, [<span class="st">&#39;Sleep Duration&#39;</span>]]</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Training the model</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>X_hours_train, X_hours_test, y_hours_train, y_hours_test <span class="op">=</span> train_test_split(X_hours, Y, test_size<span class="op">=</span>test_size, random_state<span class="op">=</span>seed)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>X_hours_train_scaled <span class="op">=</span> scaler.fit_transform(X_hours_train)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>X_hours_test_scaled <span class="op">=</span> scaler.transform(X_hours_test)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>hours_level_model <span class="op">=</span> fit_model(X_hours_train_scaled, y_hours_train)</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>y_hours_train_pred, y_hours_test_pred <span class="op">=</span> predict_data(hours_level_model, X_hours_train_scaled, X_hours_test_scaled)</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>mse_hours_train, mse_hours_test, r2_hours_train, r2_hours_test <span class="op">=</span> evaluate_model(y_hours_train, y_hours_train_pred, y_hours_test, y_hours_test_pred)</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Testing to see how well the model fits the data</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Hours Slept Results:&quot;</span>)</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  MSE Train: </span><span class="sc">{</span>mse_hours_train<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  MSE Test: </span><span class="sc">{</span>mse_hours_test<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  R2 Train: </span><span class="sc">{</span>r2_hours_train<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;  R2 Test: </span><span class="sc">{</span>r2_hours_test<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Hours Slept Results:
  MSE Train: 0.3046
  MSE Test: 0.3547
  R2 Train: 0.7817
  R2 Test: 0.7649
</code></pre>
</div>
</div>
<div class="cell markdown" id="UAKIfzoMjruL">
<p>The amount of hours slept is a good predictor of sleep quality, with
<span class="math inline"><em>R</em><sup>2</sup> = 0.7649</span> and
lower MSE of 0.3547. This indicates that it is fairy accurate, with the
model doing better on the training data than the test data.</p>
</div>
<section id="visualization" class="cell markdown" id="9ceZJJljRkUg">
<h2><strong>Visualization</strong></h2>
</section>
<section id="physical-activity-plot" class="cell markdown"
id="UO6sDeRkhqHQ">
<h3><strong>Physical Activity Plot</strong></h3>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:509}"
id="OMNGGKy_kzxi" data-outputId="c1f5fc2a-bdbe-4cb4-def9-b245f1defc87">
<div class="sourceCode" id="cb30"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#physical activity against quality of sleep for all data</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>plt.scatter(X_physical_train, y_physical_train, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, label<span class="op">=</span><span class="st">&#39;Training Data&#39;</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>plt.scatter(X_physical_test, y_physical_test, color<span class="op">=</span><span class="st">&#39;green&#39;</span>, label<span class="op">=</span><span class="st">&#39;Testing Data&#39;</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Physical Activity&#39;</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Quality of Sleep&#39;</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Physical Activity vs Quality of Sleep&#39;</span>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co">#linear regression line</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>x_line <span class="op">=</span> np.linspace(X_physical_train.<span class="bu">min</span>(), X_physical_train.<span class="bu">max</span>(), <span class="dv">100</span>)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>y_line <span class="op">=</span> physical_activity_model.predict(x_line.reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>plt.plot(x_line, y_line, color<span class="op">=</span><span class="st">&#39;red&#39;</span>, label<span class="op">=</span><span class="st">&#39;Linear Regression Line&#39;</span>)</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="co"># slope and y intercept of regression line</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Slope: </span><span class="sc">{</span>physical_activity_model<span class="sc">.</span>coef_[<span class="dv">0</span>]<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Y-Intercept: </span><span class="sc">{</span>physical_activity_model<span class="sc">.</span>intercept_<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="co">#positive R2 value means small positive correlation between physical activity and sleep quality</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a><span class="co">#the R2 of the test data was even smaller than the training data</span></span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_6c0c2b8a512e416b962680a8164c030e/ebfa3c2c7bbd0acbe37b0c8515f8ad3b2e985239.png" /></p>
</div>
<div class="output stream stdout">
<pre><code>Slope: 0.1904
Y-Intercept: 7.3645
</code></pre>
</div>
</div>
<section id="mean-arterial-pressure-plot" class="cell markdown"
id="gLDT9ihFh4rS">
<h3><strong>Mean Arterial Pressure Plot</strong></h3>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:509}"
id="K9Cx1Xu1t685" data-outputId="9148c833-b247-4c84-d3f2-348f9134e1de">
<div class="sourceCode" id="cb32"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#arterial pressure against quality of sleep for all data</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>plt.scatter(X_blood_train, y_blood_train, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, label<span class="op">=</span><span class="st">&#39;Training Data&#39;</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>plt.scatter(X_blood_test, y_blood_test, color<span class="op">=</span><span class="st">&#39;green&#39;</span>, label<span class="op">=</span><span class="st">&#39;Testing Data&#39;</span>)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Blood Pressure&#39;</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Quality of Sleep&#39;</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Blood Pressure vs Quality of Sleep&#39;</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="co">#linear regression line</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>x_line <span class="op">=</span> np.linspace(X_blood_train.<span class="bu">min</span>(), X_blood_train.<span class="bu">max</span>(), <span class="dv">100</span>)</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>y_line <span class="op">=</span> blood_pressure_model.predict(x_line.reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>plt.plot(x_line, y_line, color<span class="op">=</span><span class="st">&#39;red&#39;</span>, label<span class="op">=</span><span class="st">&#39;Linear Regression Line&#39;</span>)</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="co"># slope and y intercept of regression line</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Slope: </span><span class="sc">{</span>blood_pressure_model<span class="sc">.</span>coef_[<span class="dv">0</span>]<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Y-Intercept: </span><span class="sc">{</span>blood_pressure_model<span class="sc">.</span>intercept_<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a><span class="co">#another negative R2 value meaning very poor predictor of sleep</span></span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_6c0c2b8a512e416b962680a8164c030e/ae2b7675433defaff46e0a8f7795feadf662903d.png" /></p>
</div>
<div class="output stream stdout">
<pre><code>Slope: -0.1496
Y-Intercept: 7.3645
</code></pre>
</div>
</div>
<section id="stress-level-plot" class="cell markdown" id="7r00ePkAiPQH">
<h3><strong>Stress Level Plot</strong></h3>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:509}"
id="z2ITyzCnvgM3" data-outputId="03f548b9-5758-4c7e-fafa-560c02fad16e">
<div class="sourceCode" id="cb34"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#stress level against quality of sleep for all unscaled data</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>plt.scatter(X_stress_train, y_stress_train, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, label<span class="op">=</span><span class="st">&#39;Training Data&#39;</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>plt.scatter(X_stress_test, y_stress_test, color<span class="op">=</span><span class="st">&#39;green&#39;</span>, label<span class="op">=</span><span class="st">&#39;Testing Data&#39;</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Stress Level&#39;</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Quality of Sleep&#39;</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Stress Level vs Quality of Sleep&#39;</span>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="co">#linear regression line</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>x_line <span class="op">=</span> np.linspace(X_stress_train.<span class="bu">min</span>(), X_stress_train.<span class="bu">max</span>(), <span class="dv">100</span>)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>y_line <span class="op">=</span> stress_level_model.predict(x_line.reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>plt.plot(x_line, y_line, color<span class="op">=</span><span class="st">&#39;red&#39;</span>, label<span class="op">=</span><span class="st">&#39;Linear Regression Line&#39;</span>)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="co"># slope and y intercept of regression line</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Slope: </span><span class="sc">{</span>stress_level_model<span class="sc">.</span>coef_[<span class="dv">0</span>]<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Y-Intercept: </span><span class="sc">{</span>stress_level_model<span class="sc">.</span>intercept_<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_6c0c2b8a512e416b962680a8164c030e/4bc06f35c30bffc4d0e39fb6e25a957a6cd89cf6.png" /></p>
</div>
<div class="output stream stdout">
<pre><code>Slope: -1.0568
Y-Intercept: 7.3645
</code></pre>
</div>
</div>
<section id="sleep-duration-plot" class="cell markdown"
id="gQNsDlmwiT6a">
<h3><strong>SLeep Duration Plot</strong></h3>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:509}"
id="BIxYugrZjruK" data-outputId="7dff2a19-3d2a-451c-9bb7-c9f7812f4859">
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hours of sleep against quality of sleep for all scaled data</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>plt.scatter(X_hours_train_scaled, y_hours_train, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, label<span class="op">=</span><span class="st">&#39;Training Data&#39;</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>plt.scatter(X_hours_test_scaled, y_hours_test, color<span class="op">=</span><span class="st">&#39;green&#39;</span>, label<span class="op">=</span><span class="st">&#39;Testing Data&#39;</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Hours of Sleep&#39;</span>)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Quality of Sleep&#39;</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Hours of Sleep vs Quality of Sleep&#39;</span>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Linear regression line</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>x_line <span class="op">=</span> np.linspace(X_hours_train_scaled.<span class="bu">min</span>(), X_hours_train_scaled.<span class="bu">max</span>(), <span class="dv">100</span>)</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>y_line <span class="op">=</span> hours_level_model.predict(x_line.reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>plt.plot(x_line, y_line, color<span class="op">=</span><span class="st">&#39;red&#39;</span>, label<span class="op">=</span><span class="st">&#39;Linear Regression Line&#39;</span>)</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Slope and y-intercept of regression line</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Slope: </span><span class="sc">{</span>hours_level_model<span class="sc">.</span>coef_[<span class="dv">0</span>]<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Y-Intercept: </span><span class="sc">{</span>hours_level_model<span class="sc">.</span>intercept_<span class="sc">:.4f}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_6c0c2b8a512e416b962680a8164c030e/e72a0c5a540862f8f090464b1fe7aaffe4ed6eb1.png" /></p>
</div>
<div class="output stream stdout">
<pre><code>Slope: 1.0445
Y-Intercept: 7.3645
</code></pre>
</div>
</div>
<section id="insights-and-conclusions" class="cell markdown"
id="q53J-CX1Rql5">
<h2><strong>Insights and Conclusions</strong></h2>
</section>
<div class="cell markdown" id="-QyfsGKlnsz2">
<p>After reading through the project, an uninformed reader would feel
informed about the topic. The project does a good job of introducing the
topic of sleep quality and why it is important. Afterwards, all of the
key concepts in each section are explained as well, including BMI, blood
pressure, step count, and hours slept. Each section's goal and
conclusion are clearly stated, and the visualizations are all clearly
labeled and the importance of them are explained. By the end of the
tutorial, the reader would know that the amount of hours you sleep and
your stress level have a huge impact on your quality of sleep while
physical activity and arterial pressure do not. Therefore, the
uninformed user would know to focus on increasing the amount of hours
they sleep and lowering their stress level to improve their quality of
sleep.</p>
<p>For informed readers, on the other hand, they gain a deeper
understanding on how correlated these topics really are to their quality
of sleep. The analysis quantifies the correlations between factors like
stress levels, hours slept, physical activity, and blood pressure,
showing the strengths of these relationships to the quality of sleep.
Specifically, it highlights that stress level has the highest impact on
sleep quality with an <span
class="math inline"><em>R</em><sup>2</sup></span> value of 0.83 with
sleep duration following with 0.7649. Physical activity and blood
pressure are more similar in how they affect sleep quality, with <span
class="math inline"><em>R</em><sup>2</sup></span> values of 0.0333 and
-0.0407; they have little to no impact.</p>
</div>
</body>
</html>
